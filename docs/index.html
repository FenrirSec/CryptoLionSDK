<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoLion SDK Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #f72585;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --python: #3572A5;
            --c: #555555;
            --background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            --card-bg: rgba(30, 30, 46, 0.7);
        }

        body {
            background: var(--background);
            color: var(--light);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(67, 97, 238, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
            z-index: -1;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--accent), var(--success));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }

        .tagline {
            font-size: 1.2rem;
            color: var(--light-gray);
            max-width: 700px;
            margin: 0 auto 25px;
        }

        .badge {
            display: inline-block;
            background: var(--warning);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin: 5px;
        }

        .badge-python {
            background: var(--python);
        }

        .badge-c {
            background: var(--c);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(67, 97, 238, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(67, 97, 238, 0.3);
            border-color: var(--accent);
        }

        .card h3 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
        }

        .card h3 i {
            margin-right: 10px;
            background: rgba(67, 97, 238, 0.2);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .card ul {
            padding-left: 20px;
            margin: 15px 0;
        }

        .card ul li {
            margin-bottom: 8px;
            position: relative;
        }

        .card ul li::before {
            content: '•';
            color: var(--accent);
            position: absolute;
            left: -15px;
        }

        .highlight {
            background: rgba(72, 149, 239, 0.15);
            padding: 3px 6px;
            border-radius: 4px;
            color: var(--success);
            font-family: monospace;
        }

        .section-title {
            font-size: 2.2rem;
            margin: 50px 0 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent);
            display: inline-block;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--accent);
            margin: 30px 0 20px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            background: rgba(67, 97, 238, 0.2);
            margin-right: 5px;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: var(--accent);
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .code-block {
            background: rgba(10, 15, 30, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            border-left: 4px solid var(--accent);
            font-family: 'Fira Code', monospace;
            font-size: 0.95rem;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            color: var(--light-gray);
        }

        .code-header .filename {
            font-weight: 600;
        }

        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .hl-keyword {
            color: #ff79c6;
        }

        .hl-type {
            color: #8be9fd;
        }

        .hl-function {
            color: #50fa7b;
        }

        .hl-comment {
            color: #6272a4;
            font-style: italic;
        }

        .hl-string {
            color: #f1fa8c;
        }

        .hl-var {
            color: #bd93f9;
        }

        .func-desc {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 3px solid var(--success);
        }

        .func-desc h4 {
            color: var(--success);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .params {
            margin: 15px 0;
        }

        .params li {
            display: flex;
            margin-bottom: 8px;
        }

        .param-name {
            width: 120px;
            color: var(--accent);
            font-family: monospace;
        }

        .param-desc {
            flex: 1;
        }

        .language-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 1px solid rgba(67, 97, 238, 0.3);
        }

        .language-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .language-icon {
            font-size: 2rem;
            margin-right: 15px;
        }

        .python-icon {
            color: var(--python);
        }

        .c-icon {
            color: var(--c);
        }

        .api-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
        }

        .api-table th {
            background: rgba(67, 97, 238, 0.3);
            padding: 15px;
            text-align: left;
        }

        .api-table td {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-table tr:last-child td {
            border-bottom: none;
        }

        .api-table tr:hover {
            background: rgba(72, 149, 239, 0.15);
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px 0;
            color: var(--light-gray);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--accent), var(--success));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            header {
                padding: 20px 10px;
            }
            
            .api-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>CryptoLion SDK</h1>
            <p class="tagline">Secure license management for desktop applications with C and Python bindings</p>
            <div class="badge">Version 1.3.0</div>
            <div class="badge badge-python">Python 3.6+</div>
            <div class="badge badge-c">C99</div>
        </header>

        <section>
            <h2 class="section-title">Complete C API Reference</h2>
            
            <div class="language-section">
                <div class="language-header">
                    <i class="fas fa-c language-icon c-icon"></i>
                    <h3>C API Functions</h3>
                </div>
                
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Parameters</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="hl-function">write_callback</span></td>
                            <td>Memory callback for libcurl to handle response data</td>
                            <td>
                                <span class="hl-var">contents</span>: Pointer to data<br>
                                <span class="hl-var">size</span>: Size of each element<br>
                                <span class="hl-var">nmemb</span>: Number of elements<br>
                                <span class="hl-var">userp</span>: User pointer to MemoryBuffer
                            </td>
                        </tr>
                        <tr>
                            <td><span class="hl-function">init_curl</span></td>
                            <td>Initializes a libcurl session with common options</td>
                            <td>
                                <span class="hl-var">url</span>: API endpoint URL<br>
                                <span class="hl-var">buf</span>: MemoryBuffer for response<br>
                                <span class="hl-var">username</span>: Authentication username<br>
                                <span class="hl-var">password</span>: Authentication password
                            </td>
                        </tr>
                        <tr>
                            <td><span class="hl-function">parse_license</span></td>
                            <td>Parses License structure from JSON response</td>
                            <td>
                                <span class="hl-var">json</span>: cJSON object containing license data
                            </td>
                        </tr>
                        <tr>
                            <td><span class="hl-function">create_license</span></td>
                            <td>Creates a new license (Admin only)</td>
                            <td>
                                <span class="hl-var">username</span>: Admin username<br>
                                <span class="hl-var">password</span>: Admin password<br>
                                <span class="hl-var">duration_days</span>: License duration in days<br>
                                <span class="hl-var">user_id</span>: Optional user ID to associate
                            </td>
                        </tr>
                        <tr>
                            <td><span class="hl-function">check_license</span></td>
                            <td>Checks the validity of a license key</td>
                            <td>
                                <span class="hl-var">license_key</span>: License key to validate
                            </td>
                        </tr>
                        <tr>
                            <td><span class="hl-function">create_user</span></td>
                            <td>Creates a new user (Admin only)</td>
                            <td>
                                <span class="hl-var">admin_user</span>: Admin username<br>
                                <span class="hl-var">admin_pass</span>: Admin password<br>
                                <span class="hl-var">username</span>: New user's username<br>
                                <span class="hl-var">password</span>: New user's password<br>
                                <span class="hl-var">is_admin</span>: Admin privileges flag
                            </td>
                        </tr>
                        <tr>
                            <td><span class="hl-function">free_license</span></td>
                            <td>Releases memory allocated for a License object</td>
                            <td>
                                <span class="hl-var">lic</span>: Pointer to License structure
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="language-section">
                <div class="language-header">
                    <i class="fas fa-c language-icon c-icon"></i>
                    <h3>C API Structures</h3>
                </div>
                
                <div class="func-desc">
                    <h4>License Structure</h4>
                    <p>Represents a software license with its properties.</p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">license.h</span>
                        </div>
                        <pre><span class="hl-keyword">typedef</span> <span class="hl-keyword">struct</span> {
    <span class="hl-type">char</span>* <span class="hl-var">license_key</span>;    <span class="hl-comment">// Unique license identifier</span>
    <span class="hl-type">char</span>* <span class="hl-var">created_at</span>;     <span class="hl-comment">// Creation timestamp (ISO 8601 format)</span>
    <span class="hl-type">char</span>* <span class="hl-var">expires_at</span>;     <span class="hl-comment">// Expiration timestamp (ISO 8601 format)</span>
    <span class="hl-type">int</span> <span class="hl-var">is_active</span>;        <span class="hl-comment">// Activation status (1 = active, 0 = inactive)</span>
} <span class="hl-type">License</span>;</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>User Structure</h4>
                    <p>Represents a system user with permissions.</p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">user.h</span>
                        </div>
                        <pre><span class="hl-keyword">typedef</span> <span class="hl-keyword">struct</span> {
    <span class="hl-type">int</span> <span class="hl-var">id</span>;               <span class="hl-comment">// Unique user ID</span>
    <span class="hl-type">char</span>* <span class="hl-var">username</span>;       <span class="hl-comment">// Unique username</span>
    <span class="hl-type">int</span> <span class="hl-var">is_admin</span>;         <span class="hl-comment">// Admin privileges (1 = admin, 0 = regular)</span>
} <span class="hl-type">User</span>;</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>MemoryBuffer Structure</h4>
                    <p>Used for storing HTTP responses from API calls.</p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">buffer.h</span>
                        </div>
                        <pre><span class="hl-keyword">typedef</span> <span class="hl-keyword">struct</span> {
    <span class="hl-type">char</span>* <span class="hl-var">ptr</span>;            <span class="hl-comment">// Pointer to response data</span>
    <span class="hl-type">size_t</span> <span class="hl-var">len</span>;          <span class="hl-comment">// Length of response data</span>
} <span class="hl-type">MemoryBuffer</span>;</pre>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2 class="section-title">Detailed C Function Reference</h2>
            
            <div class="language-section">
                <div class="func-desc">
                    <h4>write_callback()</h4>
                    <p>Memory callback function for libcurl to handle response data.</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">contents</span>
                                <span class="param-desc">Pointer to the delivered data</span>
                            </li>
                            <li>
                                <span class="param-name">size</span>
                                <span class="param-desc">Size of each element (always 1)</span>
                            </li>
                            <li>
                                <span class="param-name">nmemb</span>
                                <span class="param-desc">Number of bytes in the buffer</span>
                            </li>
                            <li>
                                <span class="param-name">userp</span>
                                <span class="param-desc">Pointer to MemoryBuffer structure</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">curl_utils.c</span>
                        </div>
                        <pre><span class="hl-comment">// Memory callback for libcurl</span>
<span class="hl-keyword">static</span> <span class="hl-type">size_t</span> <span class="hl-function">write_callback</span>(<span class="hl-keyword">void</span> *<span class="hl-var">contents</span>, <span class="hl-type">size_t</span> <span class="hl-var">size</span>, <span class="hl-type">size_t</span> <span class="hl-var">nmemb</span>, <span class="hl-keyword">void</span> *<span class="hl-var">userp</span>) {
    <span class="hl-type">size_t</span> <span class="hl-var">realsize</span> = <span class="hl-var">size</span> * <span class="hl-var">nmemb</span>;
    <span class="hl-type">MemoryBuffer</span> *<span class="hl-var">mem</span> = (<span class="hl-type">MemoryBuffer</span> *)<span class="hl-var">userp</span>;
    
    <span class="hl-type">char</span> *<span class="hl-var">ptr</span> = <span class="hl-function">realloc</span>(<span class="hl-var">mem</span>-><span class="hl-var">ptr</span>, <span class="hl-var">mem</span>-><span class="hl-var">len</span> + <span class="hl-var">realsize</span> + 1);
    <span class="hl-keyword">if</span>(!<span class="hl-var">ptr</span>) <span class="hl-keyword">return</span> 0;
    
    <span class="hl-var">mem</span>-><span class="hl-var">ptr</span> = <span class="hl-var">ptr</span>;
    <span class="hl-function">memcpy</span>(&(<span class="hl-var">mem</span>-><span class="hl-var">ptr</span>[<span class="hl-var">mem</span>-><span class="hl-var">len</span>]), <span class="hl-var">contents</span>, <span class="hl-var">realsize</span>);
    <span class="hl-var">mem</span>-><span class="hl-var">len</span> += <span class="hl-var">realsize</span>;
    <span class="hl-var">mem</span>-><span class="hl-var">ptr</span>[<span class="hl-var">mem</span>-><span class="hl-var">len</span>] = 0;
    
    <span class="hl-keyword">return</span> <span class="hl-var">realsize</span>;
}</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>init_curl()</h4>
                    <p>Initializes a libcurl session with common configuration options.</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">url</span>
                                <span class="param-desc">API endpoint URL</span>
                            </li>
                            <li>
                                <span class="param-name">buf</span>
                                <span class="param-desc">Pointer to MemoryBuffer for response storage</span>
                            </li>
                            <li>
                                <span class="param-name">username</span>
                                <span class="param-desc">Authentication username (NULL for public endpoints)</span>
                            </li>
                            <li>
                                <span class="param-name">password</span>
                                <span class="param-desc">Authentication password (NULL for public endpoints)</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">curl_utils.c</span>
                        </div>
                        <pre><span class="hl-comment">// Initialize libcurl with common options</span>
<span class="hl-type">CURL</span>* <span class="hl-function">init_curl</span>(<span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">url</span>, <span class="hl-type">MemoryBuffer</span>* <span class="hl-var">buf</span>, <span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">username</span>, <span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">password</span>) {
    <span class="hl-type">CURL</span> *<span class="hl-var">curl</span> = <span class="hl-function">curl_easy_init</span>();
    <span class="hl-keyword">if</span>(!<span class="hl-var">curl</span>) <span class="hl-keyword">return</span> <span class="hl-keyword">NULL</span>;
    
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_URL</span>, <span class="hl-var">url</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_WRITEFUNCTION</span>, <span class="hl-var">write_callback</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_WRITEDATA</span>, <span class="hl-var">buf</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_USERNAME</span>, <span class="hl-var">username</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_PASSWORD</span>, <span class="hl-var">password</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_HTTPAUTH</span>, <span class="hl-var">CURLAUTH_BASIC</span>);
    <span class="hl-keyword">return</span> <span class="hl-var">curl</span>;
}</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>parse_license()</h4>
                    <p>Parses a License structure from JSON response.</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">json</span>
                                <span class="param-desc">cJSON object containing license data</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">license.c</span>
                        </div>
                        <pre><span class="hl-comment">// Parse license from JSON response</span>
<span class="hl-type">License</span> <span class="hl-function">parse_license</span>(<span class="hl-type">cJSON</span> *<span class="hl-var">json</span>) {
    <span class="hl-type">License</span> <span class="hl-var">lic</span> = {0};
    <span class="hl-type">cJSON</span> *<span class="hl-var">item</span>;
    
    <span class="hl-keyword">if</span>((<span class="hl-var">item</span> = <span class="hl-function">cJSON_GetObjectItem</span>(<span class="hl-var">json</span>, <span class="hl-string">"license_key"</span>)) && <span class="hl-var">item</span>-><span class="hl-var">valuestring</span>)
        <span class="hl-var">lic</span>.<span class="hl-var">license_key</span> = <span class="hl-function">strdup</span>(<span class="hl-var">item</span>-><span class="hl-var">valuestring</span>);
    <span class="hl-keyword">if</span>((<span class="hl-var">item</span> = <span class="hl-function">cJSON_GetObjectItem</span>(<span class="hl-var">json</span>, <span class="hl-string">"created_at"</span>)) && <span class="hl-var">item</span>-><span class="hl-var">valuestring</span>)
        <span class="hl-var">lic</span>.<span class="hl-var">created_at</span> = <span class="hl-function">strdup</span>(<span class="hl-var">item</span>-><span class="hl-var">valuestring</span>);
    <span class="hl-keyword">if</span>((<span class="hl-var">item</span> = <span class="hl-function">cJSON_GetObjectItem</span>(<span class="hl-var">json</span>, <span class="hl-string">"expires_at"</span>)) && <span class="hl-var">item</span>-><span class="hl-var">valuestring</span>)
        <span class="hl-var">lic</span>.<span class="hl-var">expires_at</span> = <span class="hl-function">strdup</span>(<span class="hl-var">item</span>-><span class="hl-var">valuestring</span>);
    <span class="hl-keyword">if</span>((<span class="hl-var">item</span> = <span class="hl-function">cJSON_GetObjectItem</span>(<span class="hl-var">json</span>, <span class="hl-string">"is_active"</span>)))
        <span class="hl-var">lic</span>.<span class="hl-var">is_active</span> = <span class="hl-var">item</span>-><span class="hl-var">valueint</span>;
    
    <span class="hl-keyword">return</span> <span class="hl-var">lic</span>;
}</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>create_license()</h4>
                    <p>Creates a new license (admin privileges required).</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">username</span>
                                <span class="param-desc">Admin username</span>
                            </li>
                            <li>
                                <span class="param-name">password</span>
                                <span class="param-desc">Admin password</span>
                            </li>
                            <li>
                                <span class="param-name">duration_days</span>
                                <span class="param-desc">License duration in days</span>
                            </li>
                            <li>
                                <span class="param-name">user_id</span>
                                <span class="param-desc">User ID to associate (0 for none)</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">license.c</span>
                        </div>
                        <pre><span class="hl-comment">// Create a new license (Admin only)</span>
<span class="hl-type">License</span> <span class="hl-function">create_license</span>(<span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">username</span>, <span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">password</span>, <span class="hl-type">int</span> <span class="hl-var">duration_days</span>, <span class="hl-type">int</span> <span class="hl-var">user_id</span>) {
    <span class="hl-type">char</span> <span class="hl-var">url</span>[256];
    <span class="hl-function">snprintf</span>(<span class="hl-var">url</span>, <span class="hl-keyword">sizeof</span>(<span class="hl-var">url</span>), <span class="hl-string">"%s/licenses"</span>, <span class="hl-var">BASE_URL</span>);
    
    <span class="hl-type">MemoryBuffer</span> <span class="hl-var">buf</span> = {0};
    <span class="hl-type">CURL</span> *<span class="hl-var">curl</span> = <span class="hl-function">init_curl</span>(<span class="hl-var">url</span>, &<span class="hl-var">buf</span>, <span class="hl-var">username</span>, <span class="hl-var">password</span>);
    <span class="hl-keyword">if</span>(!<span class="hl-var">curl</span>) <span class="hl-keyword">return</span> (<span class="hl-type">License</span>){0};
    
    <span class="hl-comment">// Build JSON request</span>
    <span class="hl-type">cJSON</span> *<span class="hl-var">req</span> = <span class="hl-function">cJSON_CreateObject</span>();
    <span class="hl-function">cJSON_AddNumberToObject</span>(<span class="hl-var">req</span>, <span class="hl-string">"duration_days"</span>, <span class="hl-var">duration_days</span>);
    <span class="hl-keyword">if</span>(<span class="hl-var">user_id</span> > 0) <span class="hl-function">cJSON_AddNumberToObject</span>(<span class="hl-var">req</span>, <span class="hl-string">"user_id"</span>, <span class="hl-var">user_id</span>);
    <span class="hl-type">char</span> *<span class="hl-var">json_str</span> = <span class="hl-function">cJSON_Print</span>(<span class="hl-var">req</span>);
    <span class="hl-function">cJSON_Delete</span>(<span class="hl-var">req</span>);
    
    <span class="hl-type">struct</span> <span class="hl-type">curl_slist</span> *<span class="hl-var">headers</span> = <span class="hl-keyword">NULL</span>;
    <span class="hl-var">headers</span> = <span class="hl-function">curl_slist_append</span>(<span class="hl-var">headers</span>, <span class="hl-string">"Content-Type: application/json"</span>);
    
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_HTTPHEADER</span>, <span class="hl-var">headers</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_POSTFIELDS</span>, <span class="hl-var">json_str</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_POST</span>, 1L);
    
    <span class="hl-type">CURLcode</span> <span class="hl-var">res</span> = <span class="hl-function">curl_easy_perform</span>(<span class="hl-var">curl</span>);
    <span class="hl-type">License</span> <span class="hl-var">license</span> = {0};
    
    <span class="hl-keyword">if</span>(<span class="hl-var">res</span> == <span class="hl-var">CURLE_OK</span>) {
        <span class="hl-type">cJSON</span> *<span class="hl-var">json</span> = <span class="hl-function">cJSON_Parse</span>(<span class="hl-var">buf</span>.<span class="hl-var">ptr</span>);
        <span class="hl-keyword">if</span>(<span class="hl-var">json</span>) <span class="hl-var">license</span> = <span class="hl-function">parse_license</span>(<span class="hl-var">json</span>);
        <span class="hl-function">cJSON_Delete</span>(<span class="hl-var">json</span>);
    }
    
    <span class="hl-function">free</span>(<span class="hl-var">json_str</span>);
    <span class="hl-function">curl_slist_free_all</span>(<span class="hl-var">headers</span>);
    <span class="hl-function">curl_easy_cleanup</span>(<span class="hl-var">curl</span>);
    <span class="hl-function">free</span>(<span class="hl-var">buf</span>.<span class="hl-var">ptr</span>);
    <span class="hl-keyword">return</span> <span class="hl-var">license</span>;
}</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>check_license()</h4>
                    <p>Checks the validity of a license key.</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">license_key</span>
                                <span class="param-desc">License key to validate</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">license.c</span>
                        </div>
                        <pre><span class="hl-comment">// Check license validity</span>
<span class="hl-type">License</span> <span class="hl-function">check_license</span>(<span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">license_key</span>) {
    <span class="hl-type">char</span> <span class="hl-var">url</span>[256];
    <span class="hl-function">snprintf</span>(<span class="hl-var">url</span>, <span class="hl-keyword">sizeof</span>(<span class="hl-var">url</span>), <span class="hl-string">"%s/licenses/%s"</span>, <span class="hl-var">BASE_URL</span>, <span class="hl-var">license_key</span>);
    
    <span class="hl-type">MemoryBuffer</span> <span class="hl-var">buf</span> = {0};
    <span class="hl-type">CURL</span> *<span class="hl-var">curl</span> = <span class="hl-function">init_curl</span>(<span class="hl-var">url</span>, &<span class="hl-var">buf</span>, <span class="hl-keyword">NULL</span>, <span class="hl-keyword">NULL</span>);
    <span class="hl-keyword">if</span>(!<span class="hl-var">curl</span>) <span class="hl-keyword">return</span> (<span class="hl-type">License</span>){0};
    
    <span class="hl-type">CURLcode</span> <span class="hl-var">res</span> = <span class="hl-function">curl_easy_perform</span>(<span class="hl-var">curl</span>);
    <span class="hl-type">License</span> <span class="hl-var">license</span> = {0};
    
    <span class="hl-keyword">if</span>(<span class="hl-var">res</span> == <span class="hl-var">CURLE_OK</span>) {
        <span class="hl-type">cJSON</span> *<span class="hl-var">json</span> = <span class="hl-function">cJSON_Parse</span>(<span class="hl-var">buf</span>.<span class="hl-var">ptr</span>);
        <span class="hl-keyword">if</span>(<span class="hl-var">json</span>) <span class="hl-var">license</span> = <span class="hl-function">parse_license</span>(<span class="hl-var">json</span>);
        <span class="hl-function">cJSON_Delete</span>(<span class="hl-var">json</span>);
    }
    
    <span class="hl-function">curl_easy_cleanup</span>(<span class="hl-var">curl</span>);
    <span class="hl-function">free</span>(<span class="hl-var">buf</span>.<span class="hl-var">ptr</span>);
    <span class="hl-keyword">return</span> <span class="hl-var">license</span>;
}</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>create_user()</h4>
                    <p>Creates a new user (admin privileges required).</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">admin_user</span>
                                <span class="param-desc">Admin username</span>
                            </li>
                            <li>
                                <span class="param-name">admin_pass</span>
                                <span class="param-desc">Admin password</span>
                            </li>
                            <li>
                                <span class="param-name">username</span>
                                <span class="param-desc">New user's username</span>
                            </li>
                            <li>
                                <span class="param-name">password</span>
                                <span class="param-desc">New user's password</span>
                            </li>
                            <li>
                                <span class="param-name">is_admin</span>
                                <span class="param-desc">Admin privileges flag (1 or 0)</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">user.c</span>
                        </div>
                        <pre><span class="hl-comment">// Create new user (Admin only)</span>
<span class="hl-type">int</span> <span class="hl-function">create_user</span>(<span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">admin_user</span>, <span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">admin_pass</span>, <span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">username</span>, <span class="hl-keyword">const</span> <span class="hl-type">char</span>* <span class="hl-var">password</span>, <span class="hl-type">int</span> <span class="hl-var">is_admin</span>) {
    <span class="hl-type">char</span> <span class="hl-var">url</span>[256];
    <span class="hl-function">snprintf</span>(<span class="hl-var">url</span>, <span class="hl-keyword">sizeof</span>(<span class="hl-var">url</span>), <span class="hl-string">"%s/users"</span>, <span class="hl-var">BASE_URL</span>);
    
    <span class="hl-type">MemoryBuffer</span> <span class="hl-var">buf</span> = {0};
    <span class="hl-type">CURL</span> *<span class="hl-var">curl</span> = <span class="hl-function">init_curl</span>(<span class="hl-var">url</span>, &<span class="hl-var">buf</span>, <span class="hl-var">admin_user</span>, <span class="hl-var">admin_pass</span>);
    <span class="hl-keyword">if</span>(!<span class="hl-var">curl</span>) <span class="hl-keyword">return</span> 0;
    
    <span class="hl-comment">// Build JSON request</span>
    <span class="hl-type">cJSON</span> *<span class="hl-var">req</span> = <span class="hl-function">cJSON_CreateObject</span>();
    <span class="hl-function">cJSON_AddStringToObject</span>(<span class="hl-var">req</span>, <span class="hl-string">"username"</span>, <span class="hl-var">username</span>);
    <span class="hl-function">cJSON_AddStringToObject</span>(<span class="hl-var">req</span>, <span class="hl-string">"password"</span>, <span class="hl-var">password</span>);
    <span class="hl-function">cJSON_AddBoolToObject</span>(<span class="hl-var">req</span>, <span class="hl-string">"is_admin"</span>, <span class="hl-var">is_admin</span>);
    <span class="hl-type">char</span> *<span class="hl-var">json_str</span> = <span class="hl-function">cJSON_Print</span>(<span class="hl-var">req</span>);
    <span class="hl-function">cJSON_Delete</span>(<span class="hl-var">req</span>);
    
    <span class="hl-type">struct</span> <span class="hl-type">curl_slist</span> *<span class="hl-var">headers</span> = <span class="hl-keyword">NULL</span>;
    <span class="hl-var">headers</span> = <span class="hl-function">curl_slist_append</span>(<span class="hl-var">headers</span>, <span class="hl-string">"Content-Type: application/json"</span>);
    
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_HTTPHEADER</span>, <span class="hl-var">headers</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_POSTFIELDS</span>, <span class="hl-var">json_str</span>);
    <span class="hl-function">curl_easy_setopt</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLOPT_POST</span>, 1L);
    
    <span class="hl-type">CURLcode</span> <span class="hl-var">res</span> = <span class="hl-function">curl_easy_perform</span>(<span class="hl-var">curl</span>);
    <span class="hl-type">int</span> <span class="hl-var">success</span> = 0;
    
    <span class="hl-keyword">if</span>(<span class="hl-var">res</span> == <span class="hl-var">CURLE_OK</span>) {
        <span class="hl-type">long</span> <span class="hl-var">http_code</span> = 0;
        <span class="hl-function">curl_easy_getinfo</span>(<span class="hl-var">curl</span>, <span class="hl-var">CURLINFO_RESPONSE_CODE</span>, &<span class="hl-var">http_code</span>);
        <span class="hl-var">success</span> = (<span class="hl-var">http_code</span> == 201);
    }
    
    <span class="hl-function">free</span>(<span class="hl-var">json_str</span>);
    <span class="hl-function">curl_slist_free_all</span>(<span class="hl-var">headers</span>);
    <span class="hl-function">curl_easy_cleanup</span>(<span class="hl-var">curl</span>);
    <span class="hl-function">free</span>(<span class="hl-var">buf</span>.<span class="hl-var">ptr</span>);
    <span class="hl-keyword">return</span> <span class="hl-var">success</span>;
}</pre>
                    </div>
                </div>
                
                <div class="func-desc">
                    <h4>free_license()</h4>
                    <p>Releases memory allocated for a License object.</p>
                    <div class="params">
                        <ul>
                            <li>
                                <span class="param-name">lic</span>
                                <span class="param-desc">Pointer to License structure</span>
                            </li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="filename">license.c</span>
                        </div>
                        <pre><span class="hl-comment">// Free license memory</span>
<span class="hl-keyword">void</span> <span class="hl-function">free_license</span>(<span class="hl-type">License</span> *<span class="hl-var">lic</span>) {
    <span class="hl-keyword">if</span>(!<span class="hl-var">lic</span>) <span class="hl-keyword">return</span>;
    <span class="hl-function">free</span>(<span class="hl-var">lic</span>-><span class="hl-var">license_key</span>);
    <span class="hl-function">free</span>(<span class="hl-var">lic</span>-><span class="hl-var">created_at</span>);
    <span class="hl-function">free</span>(<span class="hl-var">lic</span>-><span class="hl-var">expires_at</span>);
    <span class="hl-function">memset</span>(<span class="hl-var">lic</span>, 0, <span class="hl-keyword">sizeof</span>(<span class="hl-type">License</span>));
}</pre>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2 class="section-title">Memory Management Guidelines</h2>
            <div class="card">
                <h3><i class="fas fa-memory"></i> Resource Management Best Practices</h3>
                <ul>
                    <li>Always call <span class="highlight">free_license()</span> for License objects returned by API functions</li>
                    <li>MemoryBuffer structures must be freed using <span class="highlight">free(buf.ptr)</span></li>
                    <li>CURL handles must be cleaned up with <span class="highlight">curl_easy_cleanup()</span></li>
                    <li>cJSON objects must be freed with <span class="highlight">cJSON_Delete()</span></li>
                    <li>HTTP headers must be freed with <span class="highlight">curl_slist_free_all()</span></li>
                    <li>Always check for NULL pointers before freeing memory</li>
                </ul>
                
                <div class="code-block">
                    <div class="code-header">
                        <span class="filename">Proper Resource Cleanup Example</span>
                    </div>
                    <pre><span class="hl-type">License</span> <span class="hl-var">lic</span> = <span class="hl-function">check_license</span>(<span class="hl-string">"LIC-12345"</span>);

<span class="hl-comment">// Use license data...</span>
<span class="hl-keyword">if</span>(<span class="hl-var">lic</span>.<span class="hl-var">is_active</span>) {
    <span class="hl-function">printf</span>(<span class="hl-string">"Valid until %s\n"</span>, <span class="hl-var">lic</span>.<span class="hl-var">expires_at</span>);
}

<span class="hl-comment">// Proper cleanup</span>
<span class="hl-function">free_license</span>(&<span class="hl-var">lic</span>);</pre>
                </div>
            </div>
        </section>

        <footer>
            <div class="logo">CryptoLion</div>
            <p>Secure License Management System | Version 1.3.0</p>
            <p>© 2023 CryptoLion. All rights reserved. | docs.cryptolion.com</p>
        </footer>
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and content
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Show corresponding content
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });
    </script>
</body>
</html>
